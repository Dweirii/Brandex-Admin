# دليل استيراد المنتجات من CSV

## نظرة عامة

تم تحسين نظام استيراد المنتجات من CSV ليوفر تجربة مستخدم أفضل مع إدارة شاملة للأخطاء. النظام الآن يدعم:

- ✅ استيراد البيانات الصحيحة حتى مع وجود أخطاء
- ✅ تحرير وتحديث البيانات غير الصحيحة مباشرة
- ✅ إدارة أخطاء متقدمة مع فلترة وبحث
- ✅ إصلاح تلقائي للأخطاء الشائعة
- ✅ تصدير البيانات غير الصحيحة

## كيفية الاستخدام

### 1. تحميل ملف CSV

1. انتقل إلى صفحة استيراد CSV
2. اسحب وأفلت ملف CSV أو انقر لاختيار الملف
3. يجب أن يحتوي الملف على الأعمدة التالية:
   - `name` (مطلوب): اسم المنتج
   - `price` (مطلوب): السعر (رقم موجب)
   - `categoryId` (مطلوب): معرف الفئة
   - `description` (اختياري): وصف المنتج
   - `isFeatured` (اختياري): منتج مميز (true/false)
   - `isArchived` (اختياري): منتج مؤرشف (true/false)

### 2. إدارة الأخطاء

بعد تحميل الملف، سيظهر لك ملخص يتضمن:
- **إجمالي الصفوف**: عدد جميع الصفوف في الملف
- **الصفوف الصحيحة**: الصفوف التي لا تحتوي على أخطاء
- **الصفوف الخاطئة**: الصفوف التي تحتوي على أخطاء

### 3. تبويبات إدارة الأخطاء

#### تبويب الأخطاء (Errors)
- عرض جميع الصفوف التي تحتوي على أخطاء
- إمكانية التحرير المباشر للبيانات
- فلترة الأخطاء حسب النوع
- بحث في البيانات
- تحديد متعدد للصفوف
- نسخ القيم بين الصفوف
- إصلاح تلقائي للأخطاء الشائعة

#### تبويب الصفوف المصححة (Fixed)
- عرض الصفوف التي تم إصلاحها
- إمكانية استيراد الصفوف المصححة فقط

#### تبويب الصفوف الصحيحة (Valid)
- عرض الصفوف الصحيحة من الملف الأصلي
- إمكانية استيراد الصفوف الصحيحة فوراً

### 4. تحرير البيانات

1. انقر على أيقونة التحرير (قلم) بجانب الصف
2. قم بتعديل البيانات في الحقول
3. انقر على أيقونة الحفظ (✓) لحفظ التغييرات
4. انقر على أيقونة الإلغاء (✗) لإلغاء التغييرات

### 5. استيراد البيانات

يمكنك استيراد البيانات بثلاث طرق:

1. **استيراد الصفوف الصحيحة**: من تبويب "Valid"
2. **استيراد الصفوف المصححة**: من تبويب "Fixed"
3. **استيراد الكل**: من الصفحة الرئيسية (إذا لم تكن هناك أخطاء)

## أنواع الأخطاء المدعومة

### أخطاء السعر
- السعر سالب
- السعر ليس رقماً
- السعر فارغ

### أخطاء الاسم
- الاسم فارغ
- الاسم قصير جداً

### أخطاء الفئة
- معرف الفئة فارغ
- معرف الفئة غير صالح

## الميزات المتقدمة

### الإصلاح التلقائي
- إصلاح الأسعار السالبة (تصبح صفر)
- إضافة أسماء افتراضية للمنتجات بدون اسم

### البحث والفلترة
- بحث في جميع الحقول
- فلترة حسب نوع الخطأ
- تحديد متعدد للصفوف

### النسخ بين الصفوف
- نسخ قيمة من صف إلى صفوف محددة
- مفيد لتطبيق نفس القيمة على عدة منتجات

### التصدير
- تصدير الصفوف الخاطئة إلى CSV
- تصدير الصفوف المفلترة

## أمثلة على الملفات

### ملف صحيح
```csv
name,price,categoryId,description,isFeatured,isArchived
Product 1,10.99,cat_123,Valid product,true,false
Product 2,25.50,cat_456,Another valid product,false,true
```

### ملف يحتوي على أخطاء
```csv
name,price,categoryId,description,isFeatured,isArchived
Product 1,10.99,cat_123,Valid product,true,false
,-5.50,cat_456,Missing name and negative price,false,true
Product 3,invalid,cat_789,Invalid price format,true,false
```

## نصائح للاستخدام

1. **تحقق من البيانات**: راجع البيانات قبل الاستيراد
2. **استخدم الإصلاح التلقائي**: للمشاكل الشائعة
3. **استورد على مراحل**: استورد الصفوف الصحيحة أولاً، ثم أصلح الباقي
4. **احتفظ بنسخة احتياطية**: من ملف CSV الأصلي
5. **راجع النتائج**: بعد كل عملية استيراد

## استكشاف الأخطاء

### مشاكل شائعة
- **الملف كبير جداً**: الحد الأقصى 5MB
- **تنسيق غير صحيح**: تأكد من أن الملف CSV صحيح
- **أعمدة مفقودة**: تأكد من وجود الأعمدة المطلوبة
- **بيانات غير صحيحة**: راجع قيم البيانات

### الحلول
1. تحقق من تنسيق الملف
2. تأكد من وجود الأعمدة المطلوبة
3. راجع قيم البيانات
4. استخدم ميزة الإصلاح التلقائي
5. تحرير البيانات يدوياً إذا لزم الأمر

## الدعم

إذا واجهت أي مشاكل:
1. تحقق من دليل استكشاف الأخطاء
2. راجع أمثلة الملفات
3. تأكد من تنسيق البيانات
4. اتصل بالدعم الفني إذا استمرت المشكلة 